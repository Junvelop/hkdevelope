<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>js17_DOM탐색_속성.html</title>
<script type="text/javascript">
	/*
		DOM객체의 종류
		- Document: 문서에 접근할 때 사용 -> 문서객체
		- Element: tag, 요소, 엘리먼트로 불림 -> 태그객체
										  -> DOM탐색메서드:getElementBy...직접선택방식
		- Attribute: 속성을 객체로 정의 -> id,class,title,style,selected,checked,value
		- Text: text를 객체로 정의 -> <p>text</p> -> text객체
		- Node: html을 구성하는 모든 요소를 정의
		var ele=new Element();(X) -> 메서드를 통해 객체를 얻어오는 방식
		 
		객체를 생성하는 방법
		1.DOM탐색 메서드를 이용(직접선택)
		2.DOM탐색 속성을 이용(간접선택: 관계성)
		 - parentNode속성: 타켓 요소의 부모요소를 구하는 속성 : 반환타입 Node	
		 - parentElement속성: 동일한 기능 : 반환타입 Element
		 
		 - childNodes속성: 타켓 요소의 자식요소를 구하는 속성 : 반환타입 Nodes 
		 - children속성: 동일한 기능 : 반환타입 Element
		 
		 - previousSibling/nextSibling : 형제 요소를 구함 : 반환타입 Node
		 - previousElementSibling/nextElementSibling : 기능동일 : 반환타입 Element
	
		 3.create 메서드를 이용하는 방법
		 - createElement(): Tag
		 - createAttribute(): 속성
		 - createTextNode(): text
		 */
		 //parent관련 속성
		 function searchPar(){
			 var child02=document.getElementsByTagName("p")[1];//target탐색
			 console.log(child02.nodeName);// 요소객체의 이름반환
			 console.log(child02.tagName);// 태그객체의 이름반환
			 
			 var divNode=child02.parentNode;//부모요소 구하기
			 console.log(divNode.nodeName);
			 
			 var divEle=child02.parentElement;//부모엘리먼트 구하기
			 console.log(divEle.nodeName);
			 
			 divEle.style.backgroundColor="yellow";
		 }
		 function searchChi(){
			 var div = document.querySelectorAll("div")[0]; // target 요소
			 
			 //node를 반환하는 속성을 이용할 경우 : 자식 위치에 있는 모든 요소가 반환
			 var divChildNodes=div.childNodes;
			 console.log(divChildNodes.length);
			 
			 
			 //element를 반환하는 속성을 이용할 경우 : 자식 위치에 모든 태그요소가 반환 
			 var divChildElements=div.children;
			 console.log(divChildElements);
			 divChildElements[0].style.color="red";
			 divChildElements[1].textContent="자식요소02";
			 
		 }
		 
		 //퍼스트 차일드, 라스트 차일드 : 자식 요소 중에 첫번쨰/마지막번째 요소를 탐색
		 
		 function first_LastChi(){
			 var div = document.querySelectorAll("div")[0]; //타겟 요소
			 var firstChi=div.firstChild; // 노드반환
			 var firstChiEle=div.firstElementChild; //엘리먼트 반환
			 console.log(firstChi.nodeName + "," + firstChiEle.textContent);
			 
			 var lastChi = div.lastChild;
			 var lastChiEle=div.lastElementChild;
			 console.log(lastChi.nodeName+","+lastChiEle.textContent);
		 }
		 
		 function siblingTest(){
			 var child02=document.getElementsByTagName("p")[1];
			 
			 //Node반환
			 var preP=child02.previousSibling;//target 앞에 오는 node
			 var nextP=child02.nextSibling;//target 뒤에 오는 node
			 console.log(preP.nodeName+":"+nextP.nodeName);
			 //Element반환
			 var prePEle=child02.previousElementSibling;
			 var nextPEle=child02.nextElementSibling;
			 console.log(prePEle.textContent+":"+nextPEle.textContent);
		 }
		 
		 //DOM 탐색 메서드 : getElement~ 메서드는 유사배열 반환 (HTMLCollection 타입)
		 //				일반 for문 사용 해야 됨. -> forEach(),map()...(x)
		 //             querySelcotor는 유사배열 반환 (NodeList) --> forEach, map 사용 가능
		 
</script>
</head>
<body>
<div> <!-- "\n" 이게 숨어있어서 text 요소가 4개로 잡힘 --> 
	<p>child01</p>
	<p>child02</p>
	<p>child03</p>
</div>
<button onclick="searchPar()">부모탐색</button>
<button onclick="searchChi()">자식탐색</button>
<button onclick="first_LastChi()">첫또는마지막자식탐색</button>
<button onclick="siblingTest()">형제탐색</button>
</body>
</html>







